/**
 * videojs-mux
 * @version 2.2.3
 * @copyright 2018 Mux, Inc.
 * @license
 */
(function(){var define=false;
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("video.js"));else if("function"==typeof define&&define.amd)define(["video.js"],t);else{var a=t("object"==typeof exports?require("video.js"):e.videojs);for(var i in a)("object"==typeof exports?exports:e)[i]=a[i]}}("undefined"!=typeof self?self:this,function(e){return function(e){function t(i){if(a[i])return a[i].exports;var r=a[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,a){!function(){!function(t,a){e.exports=a()}(0,function(){return function(e){function t(i){if(a[i])return a[i].exports;var r=a[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t){function a(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function i(e,t){for(var a=-1,i=Array(e);++a<e;)i[a]=t(a);return i}function r(e,t){var a=I(e)||p(e)?i(e.length,String):[],r=a.length,n=!!r;for(var o in e)!t&&!O.call(e,o)||n&&("length"==o||l(o,r))||a.push(o);return a}function n(e,t,a){var i=e[t];O.call(e,t)&&f(i,a)&&(void 0!==a||t in e)||(e[t]=a)}function o(e){if(!c(e))return A(e);var t=[];for(var a in Object(e))O.call(e,a)&&"constructor"!=a&&t.push(a);return t}function s(e,t){return t=j(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,n=j(i.length-t,0),o=Array(n);++r<n;)o[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=o,a(e,this,s)}}function u(e,t,a,i){a||(a={});for(var r=-1,o=t.length;++r<o;){var s=t[r],u=i?i(a[s],e[s],s,a,e):void 0;n(a,s,void 0===u?e[s]:u)}return a}function l(e,t){return!!(t=null==t?w:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function d(e,t,a){if(!y(a))return!1;var i=typeof t;return!!("number"==i?h(a)&&l(t,a.length):"string"==i&&t in a)&&f(a[t],e)}function c(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function f(e,t){return e===t||e!==e&&t!==t}function p(e){return _(e)&&O.call(e,"callee")&&(!M.call(e,"callee")||E.call(e)==x)}function h(e){return null!=e&&v(e.length)&&!m(e)}function _(e){return b(e)&&h(e)}function m(e){var t=y(e)?E.call(e):"";return t==S||t==T}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=w}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function g(e){return h(e)?r(e):o(e)}var w=9007199254740991,x="[object Arguments]",S="[object Function]",T="[object GeneratorFunction]",P=/^(?:0|[1-9]\d*)$/,k=Object.prototype,O=k.hasOwnProperty,E=k.toString,M=k.propertyIsEnumerable,A=function(e,t){return function(a){return e(t(a))}}(Object.keys,Object),j=Math.max,D=!M.call({valueOf:1},"valueOf"),I=Array.isArray,R=function(e){return s(function(t,a){var i=-1,r=a.length,n=r>1?a[r-1]:void 0,o=r>2?a[2]:void 0;for(n=e.length>3&&"function"==typeof n?(r--,n):void 0,o&&d(a[0],a[1],o)&&(n=r<3?void 0:n,r=1),t=Object(t);++i<r;){var s=a[i];s&&e(t,s)}return t})}(function(e,t){if(D||c(t)||h(t))return void u(t,g(t),e);for(var a in t)O.call(t,a)&&n(e,a,t[a])});e.exports=R},function(e,t,a){"use strict";function i(e,t,a){a=void 0===a?1:a,e[t]=e[t]||0,e[t]+=a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,a){(function(t){var a;a="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=a}).call(t,a(4))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=r.default.methodFactory;r.default.methodFactory=function(e,t,a){var i=n(e,t,a);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);i.apply(void 0,e)}},r.default.setLevel(r.default.getLevel()),t.default=r.default},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},r=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};t.generateUUID=i,t.generateShortID=r},function(e,t,a){(function(t){var i,r=void 0!==t?t:"undefined"!=typeof window?window:{},n=a(19);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=n),e.exports=i}).call(t,a(4))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var i=a(5),r=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,i.generateShortID)()),e.muxId):e},n=function(e){var t=void 0;return e&&void 0!==e.nodeName?(t=e,e=r(t)):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]};t.getMuxPlayerId=r,t.findMediaElement=n},function(e,t,a){"use strict";function i(){return"1"===(n.default.doNotTrack||n.default.navigator.doNotTrack||n.default.navigator.msDoNotTrack)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(2),n=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostnameAndDomain=void 0;var i=a(6),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=function(e){var t=r.default.createElement("a");t.href=e;var a=t.hostname,i=a.match(/[^\.]+\.[^\.]+$/),n=void 0;return i&&i.length&&(n=i[0]),[a,n]};t.extractHostnameAndDomain=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,a){"use strict";var i=a(37),r=a(38),n=a(13);e.exports={formats:n,parse:r,stringify:i}},function(e,t,a){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e){for(var t;e.length;){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var i=[],r=0;r<t.length;++r)void 0!==t[r]&&i.push(t[r]);a.obj[a.prop]=i}}return t};t.arrayToObject=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(a[i]=e[i]);return a},t.merge=function(e,a,r){if(!a)return e;if("object"!=typeof a){if(Array.isArray(e))e.push(a);else{if("object"!=typeof e)return[e,a];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,a))&&(e[a]=!0)}return e}if("object"!=typeof e)return[e].concat(a);var n=e;return Array.isArray(e)&&!Array.isArray(a)&&(n=t.arrayToObject(e,r)),Array.isArray(e)&&Array.isArray(a)?(a.forEach(function(a,n){i.call(e,n)?e[n]&&"object"==typeof e[n]?e[n]=t.merge(e[n],a,r):e.push(a):e[n]=a}),e):Object.keys(a).reduce(function(e,n){var o=a[n];return i.call(e,n)?e[n]=t.merge(e[n],o,r):e[n]=o,e},n)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,a){return e[a]=t[a],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),a="",i=0;i<t.length;++i){var n=t.charCodeAt(i);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?a+=t.charAt(i):n<128?a+=r[n]:n<2048?a+=r[192|n>>6]+r[128|63&n]:n<55296||n>=57344?a+=r[224|n>>12]+r[128|n>>6&63]+r[128|63&n]:(i+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),a+=r[240|n>>18]+r[128|n>>12&63]+r[128|n>>6&63]+r[128|63&n])}return a},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],d=o[l];"object"==typeof d&&null!==d&&-1===a.indexOf(d)&&(t.push({obj:o,prop:l}),a.push(d))}return n(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,a){"use strict";var i=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}function n(e){var t={},a={};return Object.keys(e).forEach(function(i){var r=!1;if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=i.split("_"),o=n[0],u=c[o];u||(s.default.info("Data key word `"+n[0]+"` not expected in "+i),u=o+"_"),n.splice(1).forEach(function(e){"url"===e&&(r=!0),p[e]?u+=p[e]:(s.default.info("Data key word `"+e+"` not expected in "+i),u+="_"+e+"_")}),r?a[u]=e[i]:t[u]=e[i]}}),(0,l.default)(t,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=a(3),s=i(o),u=a(0),l=i(u),d={a:"property",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",p:"player",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},c=r(d),f={ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",br:"break",cd:"code",cg:"category",cn:"config",co:"count",cp:"complete",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",li:"live",lo:"load",ma:"max",me:"message",mi:"mime",ml:"midroll",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",ro:"ratio",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},p=r(f)},function(e,t,a){"use strict";e.exports=a(16).default},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(2),o=i(n),s=a(7),u=a(3),l=i(u),d=a(8),c=i(d),f=a(18),p=i(f),h=a(44),_=i(h),m=a(45),v=i(m),y={},b=function e(t){var a=arguments;"string"==typeof t?e.hasOwnProperty(t)?o.default.setTimeout(function(){a=Array.prototype.splice.call(a,1),e[t].apply(null,a)},0):l.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?o.default.setTimeout(function(){t(e)},0):l.default.warn("`"+t+"` is invalid.")};b.loaded=Date.now(),b.VERSION="2.3.2",b.API_VERSION="2.0",b.PLAYER_TRACKED=!1,b.monitor=function(e,t){return(0,_.default)(b,e,t)},b.destroyMonitor=function(e){var t=(0,s.findMediaElement)(e),a=r(t,1),i=a[0];i&&i.mux&&"function"==typeof i.mux.destroy?i.mux.destroy():l.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},b.init=function(e,t){var a=(0,s.getMuxPlayerId)(e);y[a]=new p.default(b,a,t)},b.emit=function(e,t,a){var i=(0,s.getMuxPlayerId)(e);y[i]?(y[i].emit(t,a),"destroy"===t&&delete y[i]):l.default.error("A monitor for `"+i+"` has not been initialized.")},(0,c.default)()&&l.default.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled."),o.default.addEventListener("unload",function(){b.WINDOW_UNLOADING=!0},!1),b.checkDoNotTrack=c.default,b.log=l.default,b.utils=v.default,t.default=b},function(e,t,a){var i,r;!function(n,o){"use strict";i=o,void 0!==(r="function"==typeof i?i.call(t,a,t,e):i)&&(e.exports=r)}(0,function(){"use strict";function e(e,t){var a=e[t];if("function"==typeof a.bind)return a.bind(e);try{return Function.prototype.bind.call(a,e)}catch(t){return function(){return Function.prototype.apply.apply(a,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==s&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):o)}function a(e,t){for(var a=0;a<u.length;a++){var i=u[a];this[i]=a<e?o:this.methodFactory(i,e,t)}this.log=this.debug}function i(e,t,i){return function(){typeof console!==s&&(a.call(this,t,i),this[e].apply(this,arguments))}}function r(e,a,r){return t(e)||i.apply(this,arguments)}function n(e,t,i){function n(e){var t=(u[e]||"silent").toUpperCase();if(typeof window!==s){try{return void(window.localStorage[c]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==s){try{e=window.localStorage[c]}catch(e){}if(typeof e===s)try{var t=window.document.cookie,a=t.indexOf(encodeURIComponent(c)+"=");a&&(e=/^([^;]+)/.exec(t.slice(a))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}var l,d=this,c="loglevel";e&&(c+=":"+e),d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=i||r,d.getLevel=function(){return l},d.setLevel=function(t,i){if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=d.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(l=t,!1!==i&&n(t),a.call(d,t,e),typeof console===s&&t<d.levels.SILENT)return"No console available for logging"},d.setDefaultLevel=function(e){o()||d.setLevel(e,!1)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)};var f=o();null==f&&(f=null==t?"WARN":t),d.setLevel(f,!1)}var o=function(){},s="undefined",u=["trace","debug","info","warn","error"],l=new n,d={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new n(e,l.getLevel(),l.methodFactory)),t};var c=typeof window!==s?window.log:void 0;return l.noConflict=function(){return typeof window!==s&&window.log===l&&(window.log=c),l},l})},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(3),o=i(n),s=a(0),u=i(s),l=a(5),d=a(9),c=a(2),f=i(c),p=a(1),h=i(p),_=a(20),m=i(_),v=a(22),y=i(v),b=a(23),g=i(b),w=a(24),x=i(w),S=a(25),T=i(S),P=a(26),k=i(P),O=a(27),E=i(O),M=a(28),A=i(M),j=a(29),D=i(j),I=a(30),R=i(I),C=a(31),N=i(C),B=a(32),L=i(B),H=a(33),q=i(H),F=a(34),W=i(F),U=a(35),G=i(U),V=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb"],$=function(e,t,a){var i=this;this.DOM_CONTENT_LOADED_EVENT_END=f.default.performance&&f.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=f.default.performance&&f.default.performance.timing.navigationStart;var r={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,sampleRate:1,beaconDomain:"litix.io"};this.mux=e,this.id=t,a=(0,u.default)(r,a),a.data=a.data||{},o.default.setLevel(a.debug?"debug":"warn"),this.getPlayheadTime=a.getPlayheadTime,this.getStateData=a.getStateData||function(){},this.getAdData=a.getAdData||function(){},this.minimumRebufferDuration=a.minimumRebufferDuration,this.sustainedRebufferThreshold=a.sustainedRebufferThreshold,this.playbackHeartbeatTime=a.playbackHeartbeatTime,this.playbackEventDispatcher=new G.default(e,a.data.property_key,a.beaconDomain,a.sampleRate),this.data={player_instance_id:(0,l.generateShortID)(),mux_sample_rate:a.sampleRate,beacon_domain:a.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,u.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)},this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,u.default)(this.data,t),this._initializeViewData();var a=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.one("play",a),this.one("adbreakstart",a)}),this.on("videochange",function(e,t){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",t)}),this.on("destroy",this.destroy);var n=this.destroy.bind(this);f.default.addEventListener("unload",n,!1),this.on("destroy",function(){f.default.removeEventListener("unload",n)}),this.on("playerready",function(e,t){(0,u.default)(this.data,t)}),V.forEach(function(e){i.on(e,function(t,a){0!==e.indexOf("ad")&&this._updateStateData(),(0,u.default)(this.data,a),this._sanitizeData()}),i.on("after"+e,function(){this.send(e)})}),this.on("viewend",function(e,t){(0,u.default)(i.data,t)});var s=function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};this.one("playerready",s),x.default.apply(this),W.default.apply(this),N.default.apply(this),E.default.apply(this),g.default.apply(this),R.default.apply(this),T.default.apply(this),k.default.apply(this),L.default.apply(this),A.default.apply(this),D.default.apply(this),q.default.apply(this),this.emit("viewinit",a.data)};(0,u.default)($.prototype,y.default.prototype),(0,u.default)($.prototype,E.default.prototype),(0,u.default)($.prototype,N.default.prototype),(0,u.default)($.prototype,g.default.prototype),(0,u.default)($.prototype,T.default.prototype),(0,u.default)($.prototype,k.default.prototype),(0,u.default)($.prototype,L.default.prototype),(0,u.default)($.prototype,A.default.prototype),(0,u.default)($.prototype,D.default.prototype),$.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),f.default.clearTimeout(this._heartBeatTimeout))},$.prototype.send=function(e){var t=(0,u.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var a=(0,d.extractHostnameAndDomain)(t.video_source_url),i=r(a,2),n=i[0],o=i[1];t.video_source_domain=o,t.video_source_hostname=n}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},$.prototype._updateStateData=function(){(0,u.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},$.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach(function(t){var a=parseInt(e.data[t],10);e.data[t]=isNaN(a)?void 0:a})},$.prototype._resetVideoData=function(e,t){var a=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete a.data[e]})},$.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1},$.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},$.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,l.generateUUID)();this.data.video_id||(this.data.video_id=(0,m.default)(this.data.player_source_url));var a=function(){t===e.data.view_id&&(0,h.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",a):a()},$.prototype._restartHeartBeat=function(){var e=this;f.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=f.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},t.default=$},function(e,t){},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=o.default.createElement("a");t.href=e;var a=t.pathname.replace(/\.[^\/.]+$/,"");return u.default.encode(t.host+a).split("=")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n=a(6),o=i(n),s=a(21),u=i(s)},function(e,t,a){(function(e,i){var r;!function(i){var n=("object"==typeof e&&e&&e.exports,function(e){this.message=e});n.prototype=new Error,n.prototype.name="InvalidCharacterError";var o=function(e){throw new n(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,l=function(e){e=String(e).replace(u,"");var t=e.length;t%4==0&&(e=e.replace(/==?$/,""),t=e.length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var a,i,r=0,n="",l=-1;++l<t;)i=s.indexOf(e.charAt(l)),a=r%4?64*a+i:i,r++%4&&(n+=String.fromCharCode(255&a>>(-2*r&6)));return n},d=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var t,a,i,r,n=e.length%3,u="",l=-1,d=e.length-n;++l<d;)t=e.charCodeAt(l)<<16,a=e.charCodeAt(++l)<<8,i=e.charCodeAt(++l),r=t+a+i,u+=s.charAt(r>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==n?(t=e.charCodeAt(l)<<8,a=e.charCodeAt(++l),r=t+a,u+=s.charAt(r>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==n&&(r=e.charCodeAt(l),u+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),u},c={encode:d,decode:l,version:"0.1.0"};void 0!==(r=function(){return c}.call(t,a,t,e))&&(e.exports=r)}()}).call(t,a(10)(e),a(4))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){},r=0;i.prototype.on=function(e,t,a){return t._eventEmitterGuid=t._eventEmitterGuid||++r,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],a&&(t=t.bind(a)),this._listeners[e].push(t),t},i.prototype.off=function(e,t){var a=this._listeners&&this._listeners[e];a&&a.forEach(function(e,i){e._eventEmitterGuid===t._eventEmitterGuid&&a.splice(i,1)})},i.prototype.one=function(e,t,a){var i=this;t._eventEmitterGuid=t._eventEmitterGuid||++r;var n=function r(){i.off(e,r),t.apply(a||this,arguments)};n._eventEmitterGuid=t._eventEmitterGuid,this.on(e,n)},i.prototype.emit=function(e,t){var a=this;if(this._listeners){t=t||{};var i=this._listeners["before*"]||[],r=this._listeners[e]||[],n=this._listeners["after"+e]||[],o=function(t,i){t=t.slice(),t.forEach(function(t){t.call(a,{type:e},i)})};o(i,t),o(r,t),o(n,t)}},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};n.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=r.default.setInterval(function(){e.emit("playbackheartbeat")},this.playbackHeartbeatTime))},n.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=n},function(e,t,a){"use strict";function i(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){e.viewErrored=!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};n.prototype._updateWatchTime=function(e,t){var a=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=a),(0,r.default)(this.data,"view_watch_time",a-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=a},n.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};n.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,r.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},n.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};i.prototype._updatePlayheadTime=function(e,t){if(t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time;else if(this.getPlayheadTime){var a=this.getPlayheadTime();void 0!==a&&(this.data.player_playhead_time=a)}},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};n.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)return void this._cleanupRebufferTracker(e,t);if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime!==this.data.player_playhead_time)return void this._cleanupRebufferTracker(e,t,!0);var a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;a>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(a),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time},n.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},n.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},n.prototype._cleanupRebufferTracker=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var i=this.data.player_playhead_time-this._lastPlayheadTime,n=t.viewer_time-this._lastPlayheadTimeUpdatedTime;i>0&&n-i>this.minimumRebufferDuration?((0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(n-i),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+n-i})):this._updateRebufferMetrics()}a?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},n.prototype._updateRebufferMetrics=function(e){e>0&&(0,r.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){this.on("viewinit",function(){var e=this.data,t=e.view_id,a=function(e,a){var i=a.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(i||Date.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(i||Date.now(),t)};this.one("playing",a),this.one("adplaying",a),this.one("viewend",function(){this.off("playing",a),this.off("adplaying",a)})})};i.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=i},function(e,t,a){"use strict";function i(){var e=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1});var t=["pause","rebufferstart","seeking","error","adbreakstart","hb"],a=["playing","hb"];t.forEach(function(t){e.on(t,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),a=Math.max(0,t-1),i=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,a),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,i),(0,n.default)(this.data,"view_total_content_playback_time",e),(0,n.default)(this.data,"view_total_upscaling",a*e),(0,n.default)(this.data,"view_total_downscaling",i*e)}this._lastPlayheadPosition=-1})}),a.forEach(function(t){e.on(t,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,u.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,o.default)(this.data,"view_seek_count",1),(0,o.default)(this.data,"view_seek_duration",t);var a=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(a,t)}),this.on("viewend",function(){this.isSeeking=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n=a(1),o=i(n),s=a(0),u=i(s)},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(1),o=i(n),s=a(9),u=a(0),l=i(u),d=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},c=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],f=function(){var e=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),c.forEach(function(t){return e.on(t,e._updateAdData)});var t=function(){e.isAdBreak=!1};this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",function(e,t){t=(0,l.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),d(this._adRequests,t),(0,o.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,o.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(e,t){t=(0,l.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),d(this._adResponses,t);var a=this.findAdRequest(t.ad_request_id);a&&(0,o.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-a.viewer_time))}),this.on("adplay",function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,o.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)}),this.on("adplaying",function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};f.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},f.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},f.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var a=(0,s.extractHostnameAndDomain)(t.ad_tag_url),i=r(a,2),n=i[0],o=i[1];this.data.view_preroll_ad_tag_domain=o,this.data.view_preroll_ad_tag_hostname=n}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var u=(0,s.extractHostnameAndDomain)(t.ad_asset_url),l=r(u,2),d=l[0],c=l[1];this.data.view_preroll_ad_asset_domain=c,this.data.view_preroll_ad_asset_hostname=d}}},t.default=f},function(e,t,a){"use strict";function i(){var e=this,t=void 0,a=void 0,i=function(){(0,n.default)(e.data,"view_waiting_rebuffer_count",1),t=Date.now(),a=window.setInterval(function(){if(t){var a=Date.now();(0,n.default)(e.data,"view_waiting_rebuffer_duration",a-t),t=a}},250)},r=function(){t&&((0,n.default)(e.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(a))},o=!1,s=function(){o=!0},u=function(){o=!1,r()};this.on("waiting",function(){o&&i()}),this.on("playing",function(){r(),s()}),this.on("pause",u),this.on("seeking",u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,a){"use strict";function i(){var e=this;this.one("playbackheartbeat",o),this.on("playbackheartbeatend",function(){e.off("before*",s),e.one("playbackheartbeat",o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){this.lastWallClockTime=Date.now(),this.on("before*",s)},s=function(e){var t=Date.now(),a=this.lastWallClockTime;this.lastWallClockTime=t,t-a>3e4&&(this.emit("devicesleep",{viewer_time:a}),(0,n.default)(this.data,{viewer_time:a}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,n.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(36),o=a(3),s=i(o),u=a(40),l=i(u),d=a(8),c=i(d),f=a(14),p=i(f),h=a(41),_=i(h),m=a(43),v=i(m),y=a(0),b=i(y),g=["property_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id"],w=["viewstart","error","ended","viewend"],x=function(e,t,a,i){this.mux=e,this.propertyKey=t,this.eventQueue=new _.default((0,l.default)(t,a)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=i,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:v.default.name,viewer_application_version:v.default.version,viewer_application_engine:v.default.layout,viewer_device_name:v.default.product,viewer_device_category:"",viewer_device_manufacturer:v.default.manufacturer,viewer_os_family:v.default.os&&v.default.os.family,viewer_os_architecture:v.default.os&&v.default.os.architecture,viewer_os_version:v.default.os&&v.default.os.version},this.viewerData=(0,n.getAndUpdateViewerData)()};x.prototype.send=function(e,t){if(e){if((0,c.default)())return s.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":r(t)))return s.default.error("A data object was expected in send() but was not provided");var a=(0,n.getAndUpdateSessionData)(),i={};(0,b.default)(i,this.pageLevelData),(0,b.default)(i,t),(0,b.default)(i,a),(0,b.default)(i,this.viewerData),i.event=e,i.property_key=this.propertyKey,i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var o=i.mux_sample_number>=this.sampleRate,u=this._deduplicateBeaconData(e,i),l=(0,p.default)(u);if(this.lastEventTime=Date.now(),o)return s.default.info("Not sending event due to sample rate restriction",e,i,l);if(!this.propertyKey)return s.default.info("Not sending event due to missing property key",e,i,l);if(!this.rateLimited)if(s.default.info("Sending event",e,i,l),this.rateLimited=!this.eventQueue.queueEvent(e,l),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(w.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return i.event="eventrateexceeded",l=(0,p.default)(i),this.eventQueue.queueEvent(i.event,l),s.default.error("Beaconing disabled due to rate limit.")}},x.prototype.destroy=function(){this.eventQueue.destroy(!1)},x.prototype._deduplicateBeaconData=function(e,t){var a=this,i={},r=t.view_id;return!r||"viewstart"===e||"viewend"===e||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5?(i=(0,b.default)({},t),r&&(this.previousBeaconData=i),r&&"viewend"===e&&(this.previousBeaconData=null)):Object.keys(t).forEach(function(e){var r=t[e];(r!==a.previousBeaconData[e]||g.indexOf(e)>-1)&&(i[e]=r,a.previousBeaconData[e]=r)}),i},t.default=x},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var r=a(11),n=i(r),o=a(39),s=i(o),u=a(5),l=function(){var e=void 0;try{e=n.default.parse(s.default.get("muxData")||"")}catch(t){e={}}return e},d=function(e){s.default.set("muxData",n.default.stringify(e),{expires:7300})},c=function(){var e=l();return e.mux_viewer_id=e.mux_viewer_id||(0,u.generateUUID)(),e.msn=e.msn||Math.random(),d(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},f=function(){var e=l(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,u.generateUUID)(),e.sst=t),e.sex=t+15e5,d(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}};t.getAndUpdateViewerData=c,t.getAndUpdateSessionData=f},function(e,t,a){"use strict";var i=a(12),r=a(13),n={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,a,r,n,o,u,l,d,c,f,p,h){var _=t;if("function"==typeof l)_=l(a,_);else if(_ instanceof Date)_=f(_);else if(null===_){if(n)return u&&!h?u(a,s.encoder):a;_=""}if("string"==typeof _||"number"==typeof _||"boolean"==typeof _||i.isBuffer(_))return u?[p(h?a:u(a,s.encoder))+"="+p(u(_,s.encoder))]:[p(a)+"="+p(String(_))];var m=[];if(void 0===_)return m;var v;if(Array.isArray(l))v=l;else{var y=Object.keys(_);v=d?y.sort(d):y}for(var b=0;b<v.length;++b){var g=v[b];o&&null===_[g]||(m=Array.isArray(_)?m.concat(e(_[g],r(a,g),r,n,o,u,l,d,c,f,p,h)):m.concat(e(_[g],a+(c?"."+g:"["+g+"]"),r,n,o,u,l,d,c,f,p,h)))}return m};e.exports=function(e,t){var a=e,o=t?i.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===o.delimiter?s.delimiter:o.delimiter,d="boolean"==typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,c="boolean"==typeof o.skipNulls?o.skipNulls:s.skipNulls,f="boolean"==typeof o.encode?o.encode:s.encode,p="function"==typeof o.encoder?o.encoder:s.encoder,h="function"==typeof o.sort?o.sort:null,_=void 0!==o.allowDots&&o.allowDots,m="function"==typeof o.serializeDate?o.serializeDate:s.serializeDate,v="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if(void 0===o.format)o.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,o.format))throw new TypeError("Unknown format option provided.");var y,b,g=r.formatters[o.format];"function"==typeof o.filter?(b=o.filter,a=b("",a)):Array.isArray(o.filter)&&(b=o.filter,y=b);var w=[];if("object"!=typeof a||null===a)return"";var x;x=o.arrayFormat in n?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var S=n[x];y||(y=Object.keys(a)),h&&y.sort(h);for(var T=0;T<y.length;++T){var P=y[T];c&&null===a[P]||(w=w.concat(u(a[P],P,S,d,c,f?p:null,b,h,_,m,g,v)))}var k=w.join(l),O=!0===o.addQueryPrefix?"?":"";return k.length>0?O+k:""}},function(e,t,a){"use strict";var i=a(12),r=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var a={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),u=0;u<s.length;++u){var l,d,c=s[u],f=c.indexOf("]="),p=-1===f?c.indexOf("="):f+1;-1===p?(l=t.decoder(c,n.decoder),d=t.strictNullHandling?null:""):(l=t.decoder(c.slice(0,p),n.decoder),d=t.decoder(c.slice(p+1),n.decoder)),r.call(a,l)?a[l]=[].concat(a[l]).concat(d):a[l]=d}return a},s=function(e,t,a){for(var i=t,r=e.length-1;r>=0;--r){var n,o=e[r];if("[]"===o)n=[],n=n.concat(i);else{n=a.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,u=parseInt(s,10);!isNaN(u)&&o!==s&&String(u)===s&&u>=0&&a.parseArrays&&u<=a.arrayLimit?(n=[],n[u]=i):n[s]=i}i=n}return i},u=function(e,t,a){if(e){var i=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,u=n.exec(i),l=u?i.slice(0,u.index):i,d=[];if(l){if(!a.plainObjects&&r.call(Object.prototype,l)&&!a.allowPrototypes)return;d.push(l)}for(var c=0;null!==(u=o.exec(i))&&c<a.depth;){if(c+=1,!a.plainObjects&&r.call(Object.prototype,u[1].slice(1,-1))&&!a.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+i.slice(u.index)+"]"),s(d,t,a)}};e.exports=function(e,t){var a=t?i.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!=typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"==typeof a.delimiter||i.isRegExp(a.delimiter)?a.delimiter:n.delimiter,a.depth="number"==typeof a.depth?a.depth:n.depth,a.arrayLimit="number"==typeof a.arrayLimit?a.arrayLimit:n.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"==typeof a.decoder?a.decoder:n.decoder,a.allowDots="boolean"==typeof a.allowDots?a.allowDots:n.allowDots,a.plainObjects="boolean"==typeof a.plainObjects?a.plainObjects:n.plainObjects,a.allowPrototypes="boolean"==typeof a.allowPrototypes?a.allowPrototypes:n.allowPrototypes,a.parameterLimit="number"==typeof a.parameterLimit?a.parameterLimit:n.parameterLimit,a.strictNullHandling="boolean"==typeof a.strictNullHandling?a.strictNullHandling:n.strictNullHandling,""===e||null===e||void 0===e)return a.plainObjects?Object.create(null):{};for(var r="string"==typeof e?o(e,a):e,s=a.plainObjects?Object.create(null):{},l=Object.keys(r),d=0;d<l.length;++d){var c=l[d],f=u(c,r[c],a);s=i.merge(s,f,a)}return i.compact(s)}},function(e,t,a){"use strict";var i,r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var s=!1;if(i=o,void 0!==(r="function"==typeof i?i.call(t,a,t,e):i)&&(e.exports=r),s=!0,"object"===n(t)&&(e.exports=o(),s=!0),!s){var u=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=u,l}}}(function(){function e(a){function i(e,r,n){var o;if("undefined"!=typeof document){if(arguments.length>1){if(n=t({path:"/"},i.defaults,n),"number"==typeof n.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*n.expires),n.expires=s}try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(e){}return r=a.write?a.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",r,n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}e||(o={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var c=u[d].split("="),f=c.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var p=c[0].replace(l,decodeURIComponent);if(f=a.read?a.read(f,p):a(f,p)||f.replace(l,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(e===p){o=f;break}e||(o[p]=f)}catch(e){}}return o}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,a){i(e,"",t(a,{expires:-1}))},i.withConverter=e,i}var t=function(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var i in a)t[i]=a[i]}return t};return e(function(){})})},function(e,t,a){"use strict";function i(e,t){return e=e||"",t=t||"litix.io",e.match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),n=i(r),o=a(3),s=i(o),u=a(42),l=i(u),d=a(0),c=i(d),f=a(14),p=i(f),h=!!n.default.XMLHttpRequest&&"withCredentials"in new n.default.XMLHttpRequest,_={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},m=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,c.default)({},_,t)};m.prototype.queueEvent=function(e,t){var a=(0,c.default)({},t);return h?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(a),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(l.default.send(this._beaconUrl,a),!0)},m.prototype.flushEvents=function(){h&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},m.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),n.default.clearTimeout(this._sendTimeout)},m.prototype._clearBeaconQueue=function(){var e=n.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,a=this._eventQueue.slice(t);if(t>0&&(0,c.default)(a[a.length-1],(0,p.default)({mux_view_message:"event queue truncated"})),e.sendBeacon)e.sendBeacon(this._beaconUrl,JSON.stringify({events:a}));else if(n.default.XMLHttpRequest){var i=new n.default.XMLHttpRequest;i.open("POST",this._beaconUrl),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify({events:a}))}else l.default.send(this._beaconUrl,a[a.length-1])},m.prototype._sendBeaconQueue=function(){var e=this;if(n.default.XMLHttpRequest&&!this._postInFlight){var t=new n.default.XMLHttpRequest,a=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=a.concat(e._eventQueue),e._failureCount+=1,s.default.info("Error sending beacon: "+t.status),s.default.info(t.responseText)):e._failureCount=0,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({events:a}))}},m.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},m.prototype._startBeaconSending=function(){var e=this;n.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=n.default.setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},t.default=m},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),n=i(r),o=a(2),s=i(o),u={};u.send=function(e,t){function a(){i.src=o+(r?"&rc="+r:"")}var i=new Image,r=0,o=e+"?"+n.default.stringify(t);return i.addEventListener("error",function(){r>3||s.default.setTimeout(function(){r++,a()},5e3*r)}),a(),i},t.default=u},function(e,t,a){(function(e,i){var r;(function(){"use strict";function n(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,a){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&a&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&a&&(e=e.replace(RegExp(t,"i"),a)),e=u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function s(e,t){var a=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=x)for(;++a<i;)t(e[a],a,e);else l(e,t)}function u(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:n(e)}function l(e,t){for(var a in e)k.call(e,a)&&t(e[a],a,e)}function d(e){return null==e?n(e):O.call(e).slice(8,-1)}function c(e,t){var a=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(a)||"object"==a&&!e[t])}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var a=null;return s(e,function(i,r){a=t(a,i,r,e)}),a}function h(e){return String(e).replace(/^ +| +$/g,"")}function _(e){function t(t){return p(t,function(t,a){var i=a.pattern||f(a);return!t&&(t=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(a.label&&!RegExp(i,"i").test(a.label)?a.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),a=a.label||a,t=u(t[0].replace(RegExp(i,"i"),a).replace(RegExp("; *(?:"+a+"[_-])?","i")," ").replace(RegExp("("+a+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function a(){return this.description||""}var i=v,r=e&&"object"==typeof e&&"String"!=d(e);r&&(i=e,e=null);var n=i.navigator||{},s=n.userAgent||"";e||(e=s);var m,b,g=r||T==y,w=r?!!n.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(O.toString()),x=r?"Object":"ScriptBridgingProxyObject",P=r?"Object":"Environment",k=r&&i.java?"JavaPackage":d(i.java),E=r?"Object":"RuntimeObject",M=/\bJava/.test(k)&&i.java,A=M&&d(i.environment)==P,j=M?"a":"α",D=M?"b":"β",I=i.document||{},R=i.operamini||i.opera,C=S.test(C=r&&R?R["[[Class]]"]:d(R))?C:R=null,N=e,B=[],L=null,H=e==s,q=H&&R&&"function"==typeof R.version&&R.version(),F=function(t){return p(t,function(t,a){return t||RegExp("\\b"+(a.pattern||f(a))+"\\b","i").exec(e)&&(a.label||a)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),W=function(t){return p(t,function(t,a){return t||RegExp("\\b"+(a.pattern||f(a))+"\\b","i").exec(e)&&(a.label||a)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),U=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),G=function(t){return p(t,function(t,a,i){return t||(a[U]||a[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+f(i)+"(?:\\b|\\w*\\d)","i").exec(e))&&i})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),V=function(t){return p(t,function(t,a){var i=a.pattern||f(a);return!t&&(t=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,i,a.label||a)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(F&&(F=[F]),G&&!U&&(U=t([G])),(m=/\bGoogle TV\b/.exec(U))&&(U=m[0]),/\bSimulator\b/i.test(e)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==W&&/\bOPiOS\b/.test(e)&&B.push("running in Turbo/Uncompressed mode"),"IE"==W&&/\blike iPhone OS\b/.test(e)?(m=_(e.replace(/like iPhone OS/,"")),G=m.manufacturer,U=m.product):/^iP/.test(U)?(W||(W="Safari"),V="iOS"+((m=/ OS ([\d_]+)/i.exec(e))?" "+m[1].replace(/_/g,"."):"")):"Konqueror"!=W||/buntu/i.test(V)?G&&"Google"!=G&&(/Chrome/.test(W)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(U))||/\bAndroid\b/.test(V)&&/^Chrome/.test(W)&&/\bVersion\//i.test(e)?(W="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==W?(/\bMobi/i.test(e)||(V="Android",B.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&B.unshift("accelerated")):"PaleMoon"==W&&(m=/\bFirefox\/([\d.]+)\b/.exec(e))?B.push("identifying as Firefox "+m[1]):"Firefox"==W&&(m=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(V||(V="Firefox OS"),U||(U=m[1])):!W||(m=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(W))?(W&&!U&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(m+"/")+8))&&(W=null),(m=U||G||V)&&(U||G||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(W=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:m)+" Browser")):"Electron"==W&&(m=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&B.push("Chromium "+m):V="Kubuntu",q||(q=function(t){return p(t,function(t,a){return t||(RegExp(a+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",f(W),"(?:Firefox|Minefield|NetFront)"])),(m="iCab"==F&&parseFloat(q)>3&&"WebKit"||/\bOpera\b/.test(W)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(F)&&"WebKit"||!F&&/\bMSIE\b/i.test(e)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==F&&/\bPlayStation\b(?! Vita\b)/i.test(W)&&"NetFront")&&(F=[m]),"IE"==W&&(m=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(W+=" Mobile",V="Windows Phone "+(/\+$/.test(m)?m:m+".x"),B.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(W="IE Mobile",V="Windows Phone 8.x",B.unshift("desktop mode"),q||(q=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=W&&"Trident"==F&&(m=/\brv:([\d.]+)/.exec(e))&&(W&&B.push("identifying as "+W+(q?" "+q:"")),W="IE",q=m[1]),H){if(c(i,"global"))if(M&&(m=M.lang.System,N=m.getProperty("os.arch"),V=V||m.getProperty("os.name")+" "+m.getProperty("os.version")),g&&c(i,"system")&&(m=[i.system])[0]){V||(V=m[0].os||null);try{m[1]=i.require("ringo/engine").version,q=m[1].join("."),W="RingoJS"}catch(e){m[0].global.system==i.system&&(W="Narwhal")}}else"object"==typeof i.process&&!i.process.browser&&(m=i.process)?"object"==typeof m.versions?"string"==typeof m.versions.electron?(B.push("Node "+m.versions.node),W="Electron",q=m.versions.electron):"string"==typeof m.versions.nw&&(B.push("Chromium "+q,"Node "+m.versions.node),W="NW.js",q=m.versions.nw):(W="Node.js",N=m.arch,V=m.platform,q=/[\d.]+/.exec(m.version),q=q?q[0]:"unknown"):A&&(W="Rhino");else d(m=i.runtime)==x?(W="Adobe AIR",V=m.flash.system.Capabilities.os):d(m=i.phantom)==E?(W="PhantomJS",q=(m=m.version||null)&&m.major+"."+m.minor+"."+m.patch):"number"==typeof I.documentMode&&(m=/\bTrident\/(\d+)/i.exec(e))?(q=[q,I.documentMode],(m=+m[1]+4)!=q[1]&&(B.push("IE "+q[1]+" mode"),F&&(F[1]=""),q[1]=m),q="IE"==W?String(q[1].toFixed(1)):q[0]):"number"==typeof I.documentMode&&/^(?:Chrome|Firefox)\b/.test(W)&&(B.push("masking as "+W+" "+q),W="IE",q="11.0",F=["Trident"],V="Windows");V=V&&u(V)}if(q&&(m=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(q)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(H&&n.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(L=/b/i.test(m)?"beta":"alpha",q=q.replace(RegExp(m+"\\+?$"),"")+("beta"==L?D:j)+(/\d+\+?/.exec(m)||"")),"Fennec"==W||"Firefox"==W&&/\b(?:Android|Firefox OS)\b/.test(V))W="Firefox Mobile";else if("Maxthon"==W&&q)q=q.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(U))"Xbox 360"==U&&(V=null),"Xbox 360"==U&&/\bIEMobile\b/.test(e)&&B.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(W)&&(!W||U||/Browser|Mobi/.test(W))||"Windows CE"!=V&&!/Mobi/i.test(e))if("IE"==W&&H)try{null===i.external&&B.unshift("platform preview")}catch(e){B.unshift("embedded")}else(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(e))&&(m=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||q)?(m=[m,/BB10/.test(e)],V=(m[1]?(U=null,G="BlackBerry"):"Device Software")+" "+m[0],q=null):this!=l&&"Wii"!=U&&(H&&R||/Opera/.test(W)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==W&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==W&&(V&&!/^Win/.test(V)&&q>5.5||/\bWindows XP\b/.test(V)&&q>8||8==q&&!/\bTrident\b/.test(e)))&&!S.test(m=_.call(l,e.replace(S,"")+";"))&&m.name&&(m="ing as "+m.name+((m=m.version)?" "+m:""),S.test(W)?(/\bIE\b/.test(m)&&"Mac OS"==V&&(V=null),m="identify"+m):(m="mask"+m,W=C?u(C.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(m)&&(V=null),H||(q=null)),F=["Presto"],B.push(m));else W+=" Mobile";(m=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(m=[parseFloat(m.replace(/\.(\d)$/,".0$1")),m],"Safari"==W&&"+"==m[1].slice(-1)?(W="WebKit Nightly",L="alpha",q=m[1].slice(0,-1)):q!=m[1]&&q!=(m[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(q=null),m[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==m[0]&&537.36==m[2]&&parseFloat(m[1])>=28&&"WebKit"==F&&(F=["Blink"]),H&&(w||m[1])?(F&&(F[1]="like Chrome"),m=m[1]||(m=m[0],m<530?1:m<532?2:m<532.05?3:m<533?4:m<534.03?5:m<534.07?6:m<534.1?7:m<534.13?8:m<534.16?9:m<534.24?10:m<534.3?11:m<535.01?12:m<535.02?"13+":m<535.07?15:m<535.11?16:m<535.19?17:m<536.05?18:m<536.1?19:m<537.01?20:m<537.11?"21+":m<537.13?23:m<537.18?24:m<537.24?25:m<537.36?26:"Blink"!=F?"27":"28")):(F&&(F[1]="like Safari"),m=m[0],m=m<400?1:m<500?2:m<526?3:m<533?4:m<534?"4+":m<535?5:m<537?6:m<538?7:m<601?8:"8"),F&&(F[1]+=" "+(m+="number"==typeof m?".x":/[.+]/.test(m)?"":"+")),"Safari"==W&&(!q||parseInt(q)>45)&&(q=m)),"Opera"==W&&(m=/\bzbov|zvav$/.exec(V))?(W+=" ",B.unshift("desktop mode"),"zvav"==m?(W+="Mini",q=null):W+="Mobile",V=V.replace(RegExp(" *"+m+"$"),"")):"Safari"==W&&/\bChrome\b/.exec(F&&F[1])&&(B.unshift("desktop mode"),W="Chrome Mobile",q=null,/\bOS X\b/.test(V)?(G="Apple",V="iOS 4.3+"):V=null),q&&0==q.indexOf(m=/[\d.]+$/.exec(V))&&e.indexOf("/"+m+"-")>-1&&(V=h(V.replace(m,""))),F&&!/\b(?:Avant|Nook)\b/.test(W)&&(/Browser|Lunascape|Maxthon/.test(W)||"Safari"!=W&&/^iOS/.test(V)&&/\bSafari\b/.test(F[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(W)&&F[1])&&(m=F[F.length-1])&&B.push(m),B.length&&(B=["("+B.join("; ")+")"]),G&&U&&U.indexOf(G)<0&&B.push("on "+G),U&&B.push((/^on /.test(B[B.length-1])?"":"on ")+U),V&&(m=/ ([\d.+]+)$/.exec(V),b=m&&"/"==V.charAt(V.length-m[0].length-1),V={architecture:32,family:m&&!b?V.replace(m[0],""):V,version:m?m[1]:null,toString:function(){var e=this.version;return this.family+(e&&!b?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(m=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+m),"")),W&&(/\bWOW64\b/i.test(e)||H&&/\w(?:86|32)$/.test(n.cpuClass||n.platform)&&!/\bWin64; x64\b/i.test(e))&&B.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==W&&parseFloat(q)>=39&&(V.architecture=64),e||(e=null);var $={};return $.description=e,$.layout=F&&F[0],$.manufacturer=G,$.name=W,$.prerelease=L,$.product=U,$.ua=e,$.version=W&&q,$.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=_,$.toString=a,$.version&&B.unshift(q),$.name&&B.unshift(W),V&&W&&(V!=String(V).split(" ")[0]||V!=W.split(" ")[0]&&!U)&&B.push(U?"("+V+")":"on "+V),B.length&&($.description=B.join(" ")),$}var m={function:!0,object:!0},v=m[typeof window]&&window||this,y=v,b=m[typeof t]&&t,g=m[typeof e]&&e&&!e.nodeType&&e,w=b&&g&&"object"==typeof i&&i;!w||w.global!==w&&w.window!==w&&w.self!==w||(v=w);var x=Math.pow(2,53)-1,S=/\bOpera/,T=this,P=Object.prototype,k=P.hasOwnProperty,O=P.toString,E=_();v.platform=E,void 0!==(r=function(){return E}.call(t,a,t,e))&&(e.exports=r)}).call(this)}).call(t,a(10)(e),a(4))},function(e,t,a){"use strict";function i(e,t,a){var i=(0,s.findMediaElement)(t),n=r(i,3),d=n[0],c=n[1],f=n[2],p=e.log,h=e.utils.getComputedStyle,_=e.utils.secondsToMs;return d?"video"!==f&&"audio"!==f?p.error("The element of `"+c+"` was not a media element."):(a=a||{},a.data=(0,o.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.3.2"},a.data),a.getPlayheadTime=function(){return _(d.currentTime)},a.getStateData=function(){return{player_is_paused:d.paused,player_playhead_time:_(d.currentTime),player_width:parseInt(h(d,"width")),player_height:parseInt(h(d,"height")),player_autoplay_on:d.autoplay,player_preload_on:d.preload,video_poster_url:d.poster,video_source_url:d.currentSrc,video_source_duration:_(d.duration),video_source_height:d.videoHeight,video_source_width:d.videoWidth}},d.mux=d.mux||{},d.mux.destroy=function(){Object.keys(d.mux.listeners).forEach(function(e){d.removeEventListener(e,d.mux.listeners[e],!1)}),delete d.mux.listeners,e.emit(c,"destroy")},d.mux.swapElement=function(t){var a=(0,s.findMediaElement)(t),i=r(a,3),n=i[0],u=i[1],l=i[2];return n?"video"!==l&&"audio"!==l?e.log.error("The element of `"+u+"` was not a media element."):(n.muxId=d.muxId,delete d.muxId,n.mux=n.mux||{},n.mux.listeners=(0,o.default)({},d.mux.listeners),delete d.mux.listeners,Object.keys(n.mux.listeners).forEach(function(e){d.removeEventListener(e,n.mux.listeners[e],!1),n.addEventListener(e,n.mux.listeners[e],!1)}),n.mux.swapElement=d.mux.swapElement,n.mux.destroy=d.mux.destroy,delete d.mux,void(d=n)):e.log.error("No element was found with the `"+u+"` query selector.")},e.init(c,a),e.emit(c,"playerready"),d.paused||(e.emit(c,"play"),d.readyState>2&&e.emit(c,"playing")),d.mux.listeners={},void u.forEach(function(t){d.mux.listeners[t]=function(){var a={};"error"===t&&(a.player_error_code=d.error&&d.error.code,a.player_error_message=d.error&&l[d.error.code]),e.emit(c,t,a)},d.addEventListener(t,d.mux.listeners[t],!1)})):p.error("No element was found with the `"+c+"` query selector.")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=i;var n=a(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n),s=a(7),u=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],l={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(46),n=i(r),o=a(1),s=i(o),u=a(47),l=i(u),d=a(48),c=i(d),f=a(0),p=i(f),h={};h.safeCall=n.default,h.safeIncrement=s.default,h.getComputedStyle=l.default,h.secondsToMs=c.default,h.assign=p.default,t.default=h},function(e,t,a){"use strict";function i(e,t,a,i){var r=i;if(e&&"function"==typeof e[t])try{r=e[t].apply(e,a)}catch(e){n.default.info("safeCall error",e)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(3),n=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,a){"use strict";function i(e,t){if(n.default.defaultView&&n.default.defaultView.getComputedStyle)return n.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(6),n=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,a){"use strict";function i(e){return Math.floor(1e3*e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}])})}()},function(e,t,a){"use strict";function i(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},n=!1;e.on("adstart",function(){n=!0}),e.on("adend",function(){n=!1}),e.on("adserror",function(){n=!1});var s=function(){var i=o(t.currentTime()),s=function a(){var s=Date.now(),u=o(t.currentTime());if(n){if(u>i){var l=r();l.viewer_time=s-Math.max(0,u-i),t.off("timeupdate",a),e.mux.emit("adplaying",l)}}else t.off("timeupdate",a)};t.on("timeupdate",s);var u=function e(){t.off("timeupdate",s),a.forEach(function(a){t.off(a,e)})};a.forEach(function(e){t.on(e,u)})};i.forEach(function(e){t.on(e,s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n.default.utils.secondsToMs},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(o.default.IS_IE8)return!1;var t=this,a=t.id();e=e||{},e.data=g({player_software_name:"Video.js",player_software_version:o.default.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"2.2.3"},e.data),e.getPlayheadTime=function(){return S(t.currentTime())},e.getStateData=function(){var e=w(t,"videoHeight"),a=w(t,"videoWidth");if(void 0===a||void 0===e){var i=t.el().firstChild;i&&"VIDEO"===i.nodeName.toUpperCase()&&(e=i.videoHeight,a=i.videoWidth)}return{player_is_paused:w(t,"paused"),player_is_fullscreen:w(t,"isFullscreen"),player_autoplay_on:w(t,"autoplay"),player_preload_on:w(t,"preload"),player_width:x(t.el(),"width"),player_height:x(t.el(),"height"),player_language_code:w(t,"language"),video_poster_url:w(t,"poster"),video_source_url:w(t,"currentSrc"),video_source_mime_type:w(t,"currentType"),video_source_duration:S(w(t,"duration")||0),video_source_height:e,video_source_width:a}},t.mux=function(){b.error("[videojs-mux] The plugin was initialized more than once.")},t.mux.emit=function(e,t){u.default.emit(a,e,t)},t.mux.log=b,u.default.init(a,e);var i=!1,r=function(){i||t.mux.emit("playerready"),i=!0};t.ready(function(){t.addClass("vjs-mux"),d.default.setTimeout(r,0)});var n=!1;t.one("play",r),T.forEach(function(e){t.on(e,function(){if(!n){var a={};if("error"===e){var i=w(t,"error");a.player_error_code=i&&i.code,a.player_error_message=i&&i.message}t.mux.emit(e,a)}})});var s=!1;t.on("play",function(){s=!0}),t.on("pause",function(){s=!1}),t.on("adstart",function(){n=!0,s&&t.mux.emit("pause"),t.mux.emit("adbreakstart")}),t.on("adend",function(){t.mux.emit("adbreakend"),n=!1,w(t,"paused")||(t.mux.emit("play"),s=!0,t.onceux&&t.mux.emit("playing"))}),t.ima&&(0,f.default)(t),t.onceux&&(0,y.default)(t),t.ima3&&(0,h.default)(t),t.FreeWheelPlugin&&(0,m.default)(t),t.on("dispose",function(){t.mux.emit("destroy")})}Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=i(n),s=a(0),u=i(s),l=a(4),d=i(l),c=a(6),f=i(c),p=a(7),h=i(p),_=a(8),m=i(_),v=a(9),y=i(v),b=u.default.log,g=u.default.utils.assign,w=u.default.utils.safeCall,x=u.default.utils.getComputedStyle,S=u.default.utils.secondsToMs,T=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];(o.default.registerPlugin||o.default.plugin||function(){u.default.log.error("No valid method to register videojs plugin available.")})("mux",r),t.default={}},function(t,a){t.exports=e},function(e,t,a){(function(t){var a;a="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=a}).call(t,a(5))},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";function i(e){var t=function(t){t=t||{};var a="function"==typeof t.getAdData?t.getAdData():{},i="function"==typeof t.getAd?t.getAd():{},r="function"==typeof i.getMediaUrl?i.getMediaUrl():a.mediaUrl,n=e.ima.settings||{},o={};return r&&(o.ad_asset_url=r),n.adTagUrl&&(o.ad_tag_url=n.adTagUrl),o},a=void 0,i=void 0,r=void 0,n=void 0,o=void 0,s=void 0;try{var u=window.google.ima.AdEvent.Type;a=u.LOADED,i=u.STARTED,r=u.COMPLETE,n=u.PAUSED,o=u.RESUMED,s=u.SKIPPED}catch(e){a="loaded",i="start",r="complete",n="pause",o="resume",s="skip"}var l=0;e.mux.triggerAdRequest=function(){l++,e.mux.emit("adrequest",t())},e.on("adsready",function(){var u=e.ima.addEventListener||function(){};u(a,function(a){var i=t(a);l>0&&(l--,e.mux.emit("adresponse",i)),e.mux.emit("adplay",i)}),u(i,function(a){var i=t(a);e.mux.emit("adplaying",i)}),u(o,function(a){var i=t(a);e.mux.emit("adplay",i),e.mux.emit("adplaying",i)}),u(n,function(a){var i=t(a);e.mux.emit("adpause",i)}),u(r,function(a){var i=t(a);e.mux.emit("adended",i)}),u(s,function(a){var i=t(a);e.mux.emit("adended",i)}),e.on("adserror",function(){l>0&&(l--,e.mux.emit("adresponse")),e.mux.emit("aderror")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,a){"use strict";function i(e){if("string"!=typeof e)return!1;var t=e.split(".").map(function(e){return parseInt(e)}),a=t[0],i=t[1];return a>2||2===a&&i>=3}function r(e){var t=function(){var t=e.ima3.currentAd,a=e.ima3.settings,i={};return t&&(i.ad_asset_url=t.mediaUrl),a&&(i.ad_tag_url=a.serverUrl),i};if(i(e.ima3.version)){var a=0,r=function(){a>0&&(a--,e.mux.emit("adresponse",t()))};e.on("ads-request",function(){a++,e.mux.emit("adrequest",t())}),e.on("ads-load",function(){r(),e.mux.emit("adplay",t())}),e.on("adserror",function(){r(),e.mux.emit("aderror")}),e.on("ads-play",function(){e.mux.emit("adplay",t())}),e.on("ads-pause",function(){e.mux.emit("adpause",t())}),e.on("ads-ad-ended",function(){e.mux.emit("adended",t())})}e.ima3.ready(function(){if(e.ima3.adPlayer){i(e.ima3.version)||(e.ima3.adPlayer.on("play",function(){e.mux.emit("adplay")}),e.ima3.adPlayer.on("pause",function(){e.mux.emit("adpause")}),e.ima3.adPlayer.on("ended",function(){e.mux.emit("adended")}));var a=["pause","ended","adserror"],r=["play"];(0,o.default)(e,e.ima3.adPlayer,a,r,t)}else e.mux.log("Legacy IMA3 plugin found, ad events may not track correctly."),e.on("ads-ad-started",function(){e.mux.emit("adplaying",t())}),e.on("ads-play",function(){e.mux.emit("adplaying",t())})})}Object.defineProperty(t,"__esModule",{value:!0}),t.brightcoveImaAdsEventsSupported=i,t.default=r;var n=a(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,a){"use strict";function i(e){var t=function(t){var a=e.FreeWheelPlugin,i={};switch(t){case"adplay":case"adplaying":case"adpause":i.ad_asset_url=e.currentSrc()}return a&&(i.ad_tag_url="html5"===a.tech.toLowerCase()?a.settings.Html5.serverUrl:a.settings.Flash.serverUrl),i};e.on("ads-request",function(){e.mux.emit("adrequest",t("adrequest"))}),e.on("ads-load",function(){e.mux.emit("adresponse",t("adresponse"))}),e.on("adserror",function(){e.mux.emit("aderror")}),e.on("ads-ad-started",function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))}),e.on("ads-play",function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))}),e.on("ads-pause",function(){e.mux.emit("adpause",t("adpause"))}),e.on("ads-ad-ended",function(){e.mux.emit("adended",t("adended"))}),e.on("adend",function(){e.mux.emit("play")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,a){"use strict";function i(e){var t=["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],a=["adstart","onceux-linearad-resume"];(0,n.default)(e,e,t,a),e.on("adstart",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-start",function(t){t.linearAd&&t.linearAd.index>0&&(e.mux.emit("adplay"),e.mux.emit("adplaying"))}),e.on("onceux-linearad-resume",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-pause",function(){e.mux.emit("adpause")}),e.on("onceux-linearad-complete",function(){e.mux.emit("adended")}),e.on("onceux-linearad-skipped",function(){e.mux.emit("adended")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(r)}])});})();
